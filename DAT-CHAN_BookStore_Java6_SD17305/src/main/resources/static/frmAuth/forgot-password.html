<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div ng-controller="forgotCtrl">

    <div class="vh-100 mt-5 d-flex justify-content-center align-items-center">
        <form ng-show="getForm" class="w-25 w-25 border p-3 rounded shadow slide-down" name="frmForgot" novalidate>
            <h3 class="text-center mb-3">Quên mật khẩu</h3>
            <div class="form-group mb-3">
                <label for="username">Tên đăng nhập</label>
                <input type="text" name="username" ng-model="formData.username" ng-model-options="{updateOn: 'blur'}"
                    class="form-control" required>
                <span ng-show="frmForgot.username.$invalid && formSubmitted" class="pull-left" style="color: red;">Vui
                    lòng nhập tên
                    tài khoản</span>
            </div>
            <div class="form-group mb-3">
                <label for="email">Email</label>
                <input type="email" name="email" ng-model="formData.email" ng-model-options="{updateOn: 'blur'}"
                    class="form-control" required>
                <span ng-show="frmForgot.email.$invalid && formSubmitted" class="pull-left" style="color: red;">Vui
                    lòng nhập email</span>
            </div>
            <button class="btn btn-primary col-12 mb-3 text-center" ng-click="getOTP()">Lấy mã</button>
            <div class="col-md-12 text-center">
                <a href="#!login" class="my-5 col-12" style="text-decoration: none;">Quay lại trang đăng
                    nhập</a>
            </div>

        </form>
        <form ng-show="checkForm" class="w-25 w-25 border p-3 rounded shadow slide-down" name="frmOTP" novalidate>
            <h3 class="text-center mb-3">Xác nhận OTP</h3>
            <div class="form-group mb-3">

                <label for="otp">Nhập OTP</label>
                <input type="text" name="otp" ng-model="formData.otp" ng-model-options="{updateOn: 'blur'}"
                    class="form-control" required ng-pattern="/^[0-9]{6}$/">
                <span ng-show="frmOTP.otp.$invalid && formSubmitted" class="pull-left" style="color: red;">Vui
                    lòng nhập otp hợp lệ gồm 6 số</span>


            </div>
            <button class="btn btn-primary col-12" ng-click="checkOTP()">Xác nhận</button>
        </form>
        <form ng-show="changeForm" class="w-25 w-25 border p-3 rounded shadow slide-down" name="frmChange" novalidate>
            <h3 class="text-center mb-3">Đổi mật khẩu</h3>
            <div class="form-group mb-3">
                <label for="password">Nhập mật khẩu mới</label>
                <input type="password" name="password" ng-model="formData.password"
                    ng-model-options="{updateOn: 'blur'}" class="form-control" required>
                <span ng-show="frmChange.password.$invalid && formSubmitted" class="pull-left" style="color: red;">Vui
                    lòng nhập mật khẩu mới</span>
            </div>
            <div class="form-group mb-3">
                <label for="confirmPassword">Xác nhận mật khẩu mới</label>
                <input type="password" name="confirmPassword" ng-model="formData.confirmPassword"
                    ng-model-options="{updateOn: 'blur'}" class="form-control" required>
                <span ng-show="frmChange.confirmPassword.$invalid && formSubmitted" class="pull-left"
                    style="color: red;">Vui
                    lòng nhập xác nhận mật khẩu</span>
                <span
                    ng-show="frmChange.confirmPassword.$valid && formSubmitted && formData.password !== formData.confirmPassword"
                    class="pull-left" style="color: red;">Mật khẩu không trùng khớp</span>
            </div>
            <button class="btn btn-primary col-12" ng-click="change()">Thay đổi mật khẩu</button>
        </form>



    </div>

</div>